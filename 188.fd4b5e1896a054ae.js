"use strict";(self.webpackChunkgroc_house=self.webpackChunkgroc_house||[]).push([[188],{5188:(I,c,l)=>{l.r(c),l.d(c,{AccountsModule:()=>P});var d=l(6895),s=l(9965),p=l(5861),t=l(8256),g=l(782),u=l(433);function m(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"small")(2,"span",17),t._uU(3,"Ordered Checked On: "),t.TgZ(4,"b"),t._uU(5),t.ALo(6,"date"),t.qZA()()(),t._UZ(7,"br"),t.BQk()),2&r){const e=t.oxw(2);t.xp6(5),t.Oqu(t.xi3(6,1,e.sharedService.getDateByNanoSec(null==e.orderData?null:e.orderData.updatedDate),"medium"))}}function _(r,o){if(1&r&&(t.ynx(0),t._uU(1),t.ALo(2,"currency"),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.paidAmount,"INR"))}}function h(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"input",40),t.NdJ("keyup",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getTotalAmount())})("ngModelChange",function(a){t.CHM(e);const i=t.oxw().$implicit;return t.KtG(i.paidAmount=a)}),t.qZA()}if(2&r){const e=t.oxw().$implicit;t.Q6J("ngModel",e.paidAmount)}}function f(r,o){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",33)(5,"div",34)(6,"h6",35)(7,"span",36),t._uU(8),t.qZA()(),t.TgZ(9,"span",37),t._uU(10),t._UZ(11,"br"),t._uU(12),t.qZA()()()(),t.TgZ(13,"td",23),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"td",23),t.YNc(17,_,3,4,"ng-container",38),t.YNc(18,h,1,1,"ng-template",null,39,t.W1O),t.qZA()()),2&r){const e=o.$implicit,n=o.index,a=t.MAs(19),i=t.oxw(2);t.xp6(2),t.Oqu(n+1),t.xp6(6),t.hij(" ",e.tamilName," "),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" (",e.size,") "),t.xp6(2),t.Oqu(t.xi3(15,7,e.finalPrice,"INR")),t.xp6(3),t.Q6J("ngIf","Checked"===(null==i.orderData?null:i.orderData.status))("ngIfElse",a)}}function Z(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"tr",21)(1,"td",41)(2,"button",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.submitPrice())}),t._uU(3,"Submit Price"),t.qZA()()()}}function x(r,o){1&r&&(t.TgZ(0,"th"),t._uU(1,"Paid Amount"),t.qZA())}function D(r,o){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.paidAmount,"INR")," ")}}function A(r,o){if(1&r&&(t.TgZ(0,"tr")(1,"td",43),t._uU(2),t.qZA(),t.TgZ(3,"td",44)(4,"div",33)(5,"div",34)(6,"h6",45)(7,"span",36),t._uU(8),t._UZ(9,"br"),t._uU(10),t.qZA()()()()(),t.YNc(11,D,3,4,"td",46),t.qZA()),2&r){const e=o.$implicit,n=o.index,a=t.oxw(2);t.xp6(2),t.hij(" ",n+1," "),t.xp6(6),t.hij(" ",e.tamilName," "),t.xp6(2),t.hij(" (",e.size,") "),t.xp6(1),t.Q6J("ngIf","Checked"===(null==a.orderData?null:a.orderData.status))}}function v(r,o){if(1&r&&(t.TgZ(0,"tfoot",29)(1,"tr")(2,"td",48),t._uU(3),t.ALo(4,"currency"),t.qZA()()()),2&r){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.xi3(4,1,null==e.orderData?null:e.orderData.totalPaidAmount,"INR")," ")}}function b(r,o){if(1&r&&(t.TgZ(0,"table",49)(1,"thead")(2,"tr")(3,"td",47)(4,"small")(5,"span"),t._uU(6),t.ALo(7,"date"),t.qZA()()()()()()),2&r){const e=t.oxw(2);t.xp6(6),t.hij("Checked Date: ",t.xi3(7,1,e.sharedService.getDateByNanoSec(null==e.orderData?null:e.orderData.updatedDate),"medium"),"")}}function T(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4)(4,"a",5),t.O4$(),t.TgZ(5,"svg",6),t._UZ(6,"path",7),t.qZA()(),t._uU(7),t.kcU(),t.TgZ(8,"span",8),t._uU(9),t.qZA()(),t.O4$(),t.TgZ(10,"svg",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.print4())}),t._UZ(11,"path",10)(12,"path",11),t.qZA()(),t.kcU(),t.TgZ(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div")(19,"small")(20,"span",17),t._uU(21,"Ordered On: "),t.TgZ(22,"b"),t._uU(23),t.ALo(24,"date"),t.qZA()()(),t._UZ(25,"br"),t.YNc(26,m,8,4,"ng-container",18),t.TgZ(27,"span",17),t._uU(28,"("),t.TgZ(29,"b"),t._uU(30),t.qZA(),t._uU(31," Items :"),t.TgZ(32,"b"),t._uU(33),t.ALo(34,"currency"),t.ALo(35,"currency"),t.qZA(),t._uU(36,") "),t.qZA()()(),t.ynx(37),t.TgZ(38,"table",19)(39,"thead")(40,"tr")(41,"th"),t._uU(42,"Sl.No"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Product"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Estimated Price"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Paid Amount"),t.qZA()()(),t.TgZ(49,"tbody"),t.YNc(50,f,20,10,"tr",20),t.qZA(),t.TgZ(51,"tfoot")(52,"tr",21)(53,"td",22),t._uU(54,"Grand Total"),t.qZA(),t.TgZ(55,"td",23),t._uU(56),t.ALo(57,"currency"),t.qZA()(),t.YNc(58,Z,4,0,"tr",24),t.qZA()(),t.BQk(),t.TgZ(59,"div",25)(60,"div",13)(61,"div")(62,"table",26)(63,"thead")(64,"tr")(65,"td",27)(66,"small")(67,"span"),t._uU(68),t.ALo(69,"date"),t.qZA()()()()()(),t.TgZ(70,"table",28)(71,"thead",29)(72,"tr")(73,"th",30),t._uU(74,"Sl.No"),t.qZA(),t.TgZ(75,"th"),t._uU(76),t.qZA(),t.YNc(77,x,2,0,"th",18),t.qZA()(),t.TgZ(78,"tbody"),t.YNc(79,A,12,4,"tr",20),t.qZA(),t.YNc(80,v,5,4,"tfoot",31),t.qZA(),t.YNc(81,b,8,4,"table",32),t.qZA()()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(7),t.hij(" Order #",null==e.orderData?null:e.orderData.orderId," "),t.xp6(1),t.ekj("badge-success","Checked"===(null==e.orderData?null:e.orderData.status))("badge-primary","Pending"===(null==e.orderData?null:e.orderData.status)),t.xp6(1),t.Oqu(null==e.orderData?null:e.orderData.status),t.xp6(14),t.Oqu(t.xi3(24,19,e.sharedService.getDateByNanoSec(null==e.orderData?null:e.orderData.date),"medium")),t.xp6(3),t.Q6J("ngIf",null==e.orderData||null==e.orderData.updatedDate?null:e.orderData.updatedDate.seconds),t.xp6(4),t.Oqu(null==e.orderData||null==e.orderData.orderProducts?null:e.orderData.orderProducts.length),t.xp6(3),t.Oqu(null!=e.orderData&&e.orderData.totalPaidAmount?t.xi3(34,22,null==e.orderData?null:e.orderData.totalPaidAmount,"INR"):t.xi3(35,25,null==e.orderData?null:e.orderData.totalAmount,"INR")),t.xp6(17),t.Q6J("ngForOf",null==e.orderData?null:e.orderData.orderProducts),t.xp6(6),t.Oqu(t.xi3(57,28,null==e.orderData?null:e.orderData.totalPaidAmount,"INR")),t.xp6(2),t.Q6J("ngIf","Pending"===(null==e.orderData?null:e.orderData.status)),t.xp6(10),t.hij("Ordered Date: ",t.xi3(69,31,e.sharedService.getDateByNanoSec(null==e.orderData?null:e.orderData.date),"medium"),""),t.xp6(8),t.Oqu("Products ("+(null==e.orderData||null==e.orderData.orderProducts?null:e.orderData.orderProducts.length)+")"),t.xp6(1),t.Q6J("ngIf","Checked"===(null==e.orderData?null:e.orderData.status)),t.xp6(2),t.Q6J("ngForOf",null==e.orderData?null:e.orderData.orderProducts),t.xp6(1),t.Q6J("ngIf","Checked"===(null==e.orderData?null:e.orderData.status)),t.xp6(1),t.Q6J("ngIf",null==e.orderData||null==e.orderData.updatedDate?null:e.orderData.updatedDate.seconds)}}let U=(()=>{class r{constructor(e,n,a){this.sharedService=e,this.route=n,this.datePipe=a,this.orderData=[],this.printDatas={},this.checked=!1,this.orders=[]}ngOnInit(){var e=this;return(0,p.Z)(function*(){e.orders=yield e.sharedService.getOrders();const n=e.route.snapshot.paramMap.get("id");e.orderData=e.orders.find(a=>a.orderId==n),"Pending"===e.orderData.status&&e.orderData.orderProducts.forEach(a=>{a.paidAmount=0}),e.createPrintDatas(e.orderData)})()}createPrintDatas(e){this.printDatas.cols=["S.No","Name","Size"],this.printDatas.rows=[],e.orderProducts.forEach((n,a)=>{this.printDatas.rows.push([a+1,n.name||"-",n.size||0])})}print4(){printJS("print-section","html")}print3(){let e="",n="";e=document.getElementById("print-section").innerHTML,n=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e&&(n.document.write(`${e}`),n.document.close())}getDateTime(e){return this.datePipe.transform(e,"dd-MMM-yyyy hh:mm:ss")}getDateTimeWithoutSpace(){return this.datePipe.transform(new Date,"dd-mm-yy-hh-mm-ss")}getDate(){return new Date}submitPrice(){this.orderData.status="Checked",this.orderData.updatedDate=new Date,this.orders.forEach(e=>{e.orderId===this.orderData.orderId&&(e=this.orderData)}),console.log("new Order",this.orders),this.sharedService.updateOrder(this.orders).then(e=>this.orders=this.sharedService.getOrders())}getTotalAmount(){const n=this.orderData.orderProducts.map(a=>a.paidAmount?parseFloat(a.paidAmount):0).reduce((a,i)=>a+i,0);this.orderData.totalPaidAmount=n}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.F),t.Y36(s.gz),t.Y36(d.uU))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-details"]],features:[t._Bn([d.uU])],decls:1,vars:1,consts:[["class","container-fluid p-0",4,"ngIf"],[1,"container-fluid","p-0"],[1,"containers"],[1,"d-flex","justify-content-between","align-items-center","py-3"],[1,"h5","mb-0"],["routerLink","/accounts/orders",1,"text-muted"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#2874f0","viewBox","0 0 16 16",1,"bi","bi-arrow-left-circle"],["fill-rule","evenodd","d","M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"],[1,"badge","badge-pill"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#2874f0","viewBox","0 0 16 16",1,"bi","bi-printer-fill",3,"click"],["d","M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2H5zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z"],["d","M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2V7zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"],[1,"row"],[1,"col-12"],[1,"card","mb-4"],[1,"card-body"],[1,"mb-3","d-flex","justify-content-between"],[1,"me-3"],[4,"ngIf"],[1,"w-100","table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"fw-bold"],["colspan","3"],[1,"text-end"],["class","fw-bold",4,"ngIf"],["id","print-section",1,"print-enabled",2,"font-size","150%"],["border","0","cellspacing","5","cellpadding","5",1,"table","table-bordered","table-striped",2,"width","100%","border-collapse","collapse"],[2,"text-align","left"],["border","1","cellspacing","5","cellpadding","5",1,"table","table-bordered","table-striped",2,"width","100%","border-collapse","collapse"],[2,"background-color","#2874f0","color","#fff"],[2,"width","60px"],["style","background-color: #2874f0; color: #fff",4,"ngIf"],["border","0","cellspacing","5","cellpadding","5","style","width:100%; border-collapse: collapse;margin-top: 10px","class","table table-bordered table-striped",4,"ngIf"],[1,"d-flex","mb-2"],[1,"flex-lg-grow-1","ms-3"],[1,"mb-0"],[1,"text-reset"],[1,""],[4,"ngIf","ngIfElse"],["txtBox",""],["type","number",1,"form-control","input-price",3,"ngModel","keyup","ngModelChange"],["colspan","4",1,"text-end"],[1,"btn","button","btn-primary",3,"click"],[2,"padding","5px","text-align","center"],[2,"padding","5px"],[1,"small","mb-0",2,"margin","0"],["style","text-align: right;",4,"ngIf"],[2,"text-align","right"],["colspan","3",2,"text-align","right"],["border","0","cellspacing","5","cellpadding","5",1,"table","table-bordered","table-striped",2,"width","100%","border-collapse","collapse","margin-top","10px"]],template:function(e,n){1&e&&t.YNc(0,T,82,34,"div",0),2&e&&t.Q6J("ngIf",null==n.orderData||null==n.orderData.orderProducts?null:n.orderData.orderProducts.length)},dependencies:[d.sg,d.O5,s.yS,u.Fj,u.wV,u.JJ,u.On,d.H9,d.uU],styles:[".text-reset[_ngcontent-%COMP%]{font-family:cursive}.input-price[_ngcontent-%COMP%]{text-align:right;border:3px solid blue}"]}),r})();function y(r,o){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"td")(13,"a",11)(14,"span",12),t._uU(15),t.qZA()()()()),2&r){const e=o.$implicit,n=t.oxw();t.xp6(2),t.hij("#",e.orderId,""),t.xp6(2),t.Oqu(t.xi3(5,10,n.sharedService.getDateByNanoSec(null==e?null:e.date),"medium")),t.xp6(3),t.hij("",null==e||null==e.orderProducts?null:e.orderProducts.length," Items"),t.xp6(2),t.Oqu(null!=e&&e.totalPaidAmount?t.xi3(10,13,null==e?null:e.totalPaidAmount,"INR"):t.xi3(11,16,null==e?null:e.totalAmount,"INR")),t.xp6(4),t.Q6J("routerLink","/accounts/order-details/"+e.orderId),t.xp6(1),t.ekj("badge-success","Checked"===(null==e?null:e.status))("badge-primary","Pending"===(null==e?null:e.status)),t.xp6(1),t.hij(" ",null==e?null:e.status," ")}}let O=(()=>{class r{constructor(e,n){this.sharedService=e,this.router=n,this.orders=[]}ngOnInit(){var e=this;return(0,p.Z)(function*(){const n=yield e.sharedService.getOrders();n&&n.length&&(e.orders=n.reverse()),(!e.orders||0===e.orders.length)&&e.router.navigate(["/products/list"])})()}redirect(e){this.router.navigate([`/accounts/order-details/${e.orderId}`])}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.F),t.Y36(s.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-lists"]],decls:27,vars:3,consts:[[1,"card"],[1,"row"],[1,"col-12"],[1,"card","mb-4"],[1,"card-body"],[1,"mb-3","d-flex","justify-content-between"],[1,"me-3"],["border","2",1,"table","table-bordered","table-responsive","table-striped",2,"width","100%",3,"cellPadding","cellSpacing"],[4,"ngFor","ngForOf"],[1,"container-fluid","p-0"],[1,"container"],[3,"routerLink"],[1,"badge"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"span",6),t._uU(8,"Orders"),t.qZA()()(),t.ynx(9),t.TgZ(10,"table",7)(11,"thead")(12,"tr")(13,"th"),t._uU(14,"Order ID"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Date"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Items"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Amount"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Status"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,y,16,19,"tr",8),t.qZA()(),t.BQk(),t.qZA()()()()(),t.TgZ(25,"div",9),t._UZ(26,"div",10),t.qZA()),2&e&&(t.xp6(10),t.Q6J("cellPadding",5)("cellSpacing",5),t.xp6(14),t.Q6J("ngForOf",n.orders))},dependencies:[d.sg,s.yS,d.H9,d.uU]}),r})();var q=l(1041);const w=[{path:"",redirectTo:"/accounts/profile",pathMatch:"full"},{path:"profile",component:(()=>{class r{constructor(e){this.auth=e}ngOnInit(){this.currentUser=this.auth.getAuthLocal()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(q.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile"]],decls:22,vars:9,consts:[[1,"card"],[1,"card-body"],[1,"row","mb-3"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9","text-secondary"],["type","text","readonly","",1,"form-control",3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),t._uU(5,"Email"),t.qZA()(),t.TgZ(6,"div",5),t._UZ(7,"input",6),t.qZA()(),t.TgZ(8,"div",2)(9,"div",3)(10,"h6",4),t._uU(11,"Created On"),t.qZA()(),t.TgZ(12,"div",5),t._UZ(13,"input",6),t.ALo(14,"date"),t.qZA()(),t.TgZ(15,"div",2)(16,"div",3)(17,"h6",4),t._uU(18,"Last Login"),t.qZA()(),t.TgZ(19,"div",5),t._UZ(20,"input",6),t.ALo(21,"date"),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("value",null==n.currentUser?null:n.currentUser.email),t.xp6(6),t.Q6J("value",t.xi3(14,3,null==n.currentUser?null:n.currentUser.createdAt,"medium")),t.xp6(7),t.Q6J("value",t.xi3(21,6,null==n.currentUser?null:n.currentUser.lastLoginAt,"medium")))},dependencies:[d.uU]}),r})()},{path:"orders",component:O},{path:"order-details/:id",component:U},{path:"**",redirectTo:"/accounts/profile"}];let C=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[s.Bz.forChild(w),s.Bz]}),r})(),P=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[d.ez,C,u.u5]}),r})()}}]);