"use strict";(self.webpackChunkgroc_house=self.webpackChunkgroc_house||[]).push([[8],{9008:(P,p,a)=>{a.r(p),a.d(p,{AdminModule:()=>N});var m=a(6895),u=a(9965),n=a(433),e=a(8256),d=a(782);function y(o,l){if(1&o){const r=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"button",13),e.NdJ("click",function(){const s=e.CHM(r).$implicit,g=e.oxw();return e.KtG(g.getDatas(null==s?null:s.backupName))}),e._uU(7,"Download"),e.qZA()()()}if(2&o){const r=l.$implicit,t=l.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(null==r?null:r.backupName)}}let b=(()=>{class o{constructor(r,t){this.sharedService=r,this.datePipe=t,this.backupItems=[]}ngOnInit(){this.backupItems=[{backupName:"category"},{backupName:"products"},{backupName:"orders"}]}getDatas(r){"category"===r?this.getCategory():"products"===r?this.getProducts():"orders"===r&&this.getOrders()}jsonToPdf(){this.sharedService.getCategory().then(r=>{const t=Object.keys(r[0]).map(i=>i);printJS({printable:r,type:"json",properties:t})})}printJson(r,t){const i=document.createElement("a");i.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r))),i.setAttribute("download",`${t}-${this.getPrintDate()}.json`),document.body.appendChild(i),i.click(),document.body.removeChild(i)}getCategory(){this.sharedService.getCategory().then(r=>{this.printJson(r,"category")})}getProducts(){this.sharedService.getProducts().then(r=>{this.printJson(r,"products")})}getOrders(){this.sharedService.getOrders().then(r=>{this.printJson(r,"orders")})}getPrintDate(){return this.datePipe.transform(new Date,"dd-MMMM-yyyy")}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(d.F),e.Y36(m.uU))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin-backup"]],decls:27,vars:3,consts:[[1,"card"],[1,"card-header"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/products"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col"],[1,"card-body"],[1,"col-12"],["border","2",1,"table","table-bordered","table-striped",2,"width","100%",3,"cellPadding","cellSpacing"],[4,"ngFor","ngForOf"],[1,"button","btn","btn-primary",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),e._uU(6,"Home"),e.qZA()(),e.TgZ(7,"li",6),e._uU(8,"Backup"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"h3"),e._uU(12," Backup "),e.qZA()()()()(),e.TgZ(13,"div",9)(14,"div",7)(15,"div",10)(16,"table",11)(17,"thead")(18,"tr")(19,"th"),e._uU(20,"Sl.No"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Backup Name"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Action"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,y,8,2,"tr",12),e.qZA()()()()()()),2&r&&(e.xp6(16),e.Q6J("cellPadding",5)("cellSpacing",5),e.xp6(10),e.Q6J("ngForOf",t.backupItems))},dependencies:[m.sg,u.yS]}),o})();var c=a(4642);function Z(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",21),e._uU(9,"Edit"),e.qZA()()()),2&o){const r=l.$implicit,t=l.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(null==r?null:r.categTamil),e.xp6(2),e.Oqu(null==r?null:r.category)}}const _=function(){return{width:"50vw"}};let F=(()=>{class o{constructor(r,t){this.fb=r,this.sharedService=t,this.datas=[],this.visible=!1}ngOnInit(){this.getCategory(),this.myForm=this.fb.group({categTamil:["",[n.kI.required]],category:["",[n.kI.required]]})}getCategory(){this.sharedService.getCategory().then(r=>{this.datas=r})}submit(){"VALID"===this.myForm.status&&this.sharedService.createCategories(this.myForm.value).then(r=>{this.getCategory(),this.resetForm()})}resetForm(){this.myForm.reset(),this.visible=!1}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(n.qu),e.Y36(d.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin-category"]],decls:44,vars:16,consts:[[1,"card"],[1,"card-header"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/products"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col"],[1,"col-auto"],[1,"button","btn","btn-primary",3,"click"],[1,"card-body"],[1,"col-12"],["border","2",1,"table","table-bordered","table-striped",2,"width","100%",3,"cellPadding","cellSpacing"],[4,"ngFor","ngForOf"],["header","Add New Category",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"form-group"],["formControlName","categTamil","type","text","placeholder","Enter category in tamil",1,"form-control"],["formControlName","category","type","text","placeholder","Enter category in english",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"button","btn","btn-primary"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),e._uU(6,"Home"),e.qZA()(),e.TgZ(7,"li",6),e._uU(8,"Category"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"h3"),e._uU(12," Category "),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return t.visible=!0}),e._uU(15,"Add"),e.qZA()()()()(),e.TgZ(16,"div",11)(17,"div",7)(18,"div",12)(19,"table",13)(20,"thead")(21,"tr")(22,"th"),e._uU(23,"Sl.No"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Category (Tamil)"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Category (English)"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,Z,10,3,"tr",14),e.qZA()()()()()(),e.TgZ(32,"p-dialog",15),e.NdJ("visibleChange",function(s){return t.visible=s}),e.TgZ(33,"form",16)(34,"div",17)(35,"label"),e._uU(36,"Category (Tamil)"),e.qZA(),e._UZ(37,"input",18),e.qZA(),e.TgZ(38,"div",17)(39,"label"),e._uU(40,"Category (English)"),e.qZA(),e._UZ(41,"input",19),e.qZA(),e.TgZ(42,"button",20),e.NdJ("click",function(){return t.submit()}),e._uU(43,"Submit"),e.qZA()()()),2&r&&(e.xp6(19),e.Q6J("cellPadding",5)("cellSpacing",5),e.xp6(12),e.Q6J("ngForOf",t.datas),e.xp6(1),e.Akn(e.DdM(15,_)),e.Q6J("visible",t.visible)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.myForm),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.categTamil?null:t.myForm.controls.categTamil.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.categTamil?null:t.myForm.controls.categTamil.errors)),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.category?null:t.myForm.controls.category.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.category?null:t.myForm.controls.category.errors)),e.xp6(1),e.Q6J("disabled","INVALID"===t.myForm.status))},dependencies:[m.sg,u.yS,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,c.V]}),o})();var h=a(5128);function A(o,l){if(1&o){const r=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",29),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e._UZ(11,"br"),e.TgZ(12,"small"),e._uU(13),e.qZA()(),e.TgZ(14,"td"),e._uU(15),e._UZ(16,"br"),e.TgZ(17,"small"),e._uU(18),e.qZA()(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"currency"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.TgZ(26,"td")(27,"button",10),e.NdJ("click",function(){const s=e.CHM(r).$implicit,g=e.oxw();return e.KtG(g.editForm(s))}),e._uU(28,"Edit"),e.qZA()()()}if(2&o){const r=l.$implicit,t=l.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Q6J("src","assets/images/products/"+(null==r?null:r.imgSrc),e.LSH),e.xp6(2),e.Oqu(null==r?null:r.id),e.xp6(2),e.Oqu((null==r?null:r.brand)||"-"),e.xp6(2),e.Oqu(null==r?null:r.tamilName),e.xp6(3),e.hij("(",null==r?null:r.name,")"),e.xp6(2),e.hij("",null==r?null:r.categTamil," "),e.xp6(3),e.hij("(",null==r?null:r.category,")"),e.xp6(2),e.Oqu(e.xi3(21,11,null==r?null:r.price,"INR")),e.xp6(3),e.Oqu(null==r?null:r.variant),e.xp6(2),e.Oqu(null==r?null:r.size)}}function v(o,l){if(1&o&&(e.TgZ(0,"option",30),e._uU(1),e.TgZ(2,"small"),e._uU(3),e.qZA()()),2&o){const r=l.$implicit;e.Q6J("value",r.category),e.xp6(1),e.Oqu(r.categTamil),e.xp6(2),e.hij(" (",r.category,")")}}function T(o,l){if(1&o&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&o){const r=l.$implicit,t=e.oxw();e.Q6J("value",r),e.xp6(1),e.lnq("",r," (",t.rootVariants[r][0]," to ",t.rootVariants[r][t.rootVariants[r].length-1],")")}}const f=function(){return{width:"50vw"}},C=function(){return{standalone:!0}},q=[{path:"",redirectTo:"/admin/products",pathMatch:"full"},{path:"products",component:(()=>{class o{constructor(r,t){this.fb=r,this.sharedService=t,this.datas=[],this.visible=!1,this.categories=[],this.variants=[],this.rootVariants=h.o,this.selectedCat="",this.edit=!1}ngOnInit(){this.setForm(),this.getCategory(),this.getDatas(),this.getVariants()}setForm(){const r=this.datas.length?parseInt(this.datas[this.datas.length-1].id)+1:1;this.myForm=this.fb.group({id:[r,[n.kI.required]],brand:"",name:["",[n.kI.required]],tamilName:["",[n.kI.required]],categTamil:["",[n.kI.required]],category:["",[n.kI.required]],imgSrc:[r+".jpg",[n.kI.required]],price:["",[n.kI.required]],variant:["",[n.kI.required]],size:["",[n.kI.required]]})}getCategory(){this.sharedService.getCategory().then(r=>{this.categories=r})}getDatas(){this.sharedService.getProducts().then(r=>{this.datas=r,this.setForm()})}submit(){if(this.edit){const r=this.datas.findIndex(t=>t.id===this.myForm.value.id);-1!==r?(this.datas[r]=this.myForm.value,this.sharedService.createAllProducts(this.datas).then(t=>{this.setForm(),this.getDatas(),this.resetForm()})):(this.sharedService.showMessage("error","Product Not Updated due to Product not matched"),this.setForm(),this.resetForm())}else this.sharedService.createProducts(this.myForm.value).then(r=>{this.setForm(),this.getDatas(),this.resetForm()})}changeCategory(){const r=this.selectedCat?this.selectedCat:"";if(""==r)this.myForm.controls.category.setValue(""),this.myForm.controls.categTamil.setValue("");else{this.myForm.controls.category.setValue(r);const t=this.categories.find(i=>i.category===r);this.myForm.controls.categTamil.setValue(t.categTamil)}}resetForm(){this.selectedCat="",this.myForm.reset(),this.visible=!1,this.edit=!1,this.setForm()}getVariants(){this.variants=Object.keys(h.o).map(r=>r)}editForm(r){this.edit=!0,this.visible=!0,this.selectedCat=r.category,this.myForm.patchValue({id:r.id,brand:r.brand,name:r.name,tamilName:r.tamilName,categTamil:r.categTamil,category:r.category,imgSrc:r.imgSrc,price:r.price,variant:r.variant,size:r.size})}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(n.qu),e.Y36(d.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin-products"]],decls:86,vars:35,consts:[[1,"card"],[1,"card-header"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/admin/products"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col"],[1,"col-auto"],[1,"button","btn","btn-primary",3,"click"],[1,"card-body"],[1,"col-12"],["border","2",1,"table","table-bordered","table-striped",2,"width","100%",3,"cellPadding","cellSpacing"],[4,"ngFor","ngForOf"],[3,"header","visible","modal","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"form-group"],["formControlName","id","type","text","placeholder","Enter Product id","readonly","",1,"form-control"],["formControlName","brand","type","text","placeholder","Enter Brand",1,"form-control"],["formControlName","tamilName","type","text","placeholder","Enter product Name in tamil",1,"form-control"],["formControlName","name","type","text","placeholder","Enter product name in english",1,"form-control"],["placeholder","Select Category",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","price","type","number","placeholder","Enter Price",1,"form-control"],["formControlName","variant","placeholder","Select Variant",1,"form-control"],["formControlName","size","type","text","placeholder","Enter Size (eg.. 100 g)",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"],[2,"width","100px",3,"src"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),e._uU(6,"Home"),e.qZA()(),e.TgZ(7,"li",6),e._uU(8,"Products"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"h3"),e._uU(12," Products "),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return t.visible=!0}),e._uU(15,"Add"),e.qZA()()()()(),e.TgZ(16,"div",11)(17,"div",7)(18,"div",12)(19,"table",13)(20,"thead")(21,"tr")(22,"th"),e._uU(23,"Sl.No"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Product Image"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Product ID"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Brand"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Product Name"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Category"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Price"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Size"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Variant"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Action"),e.qZA()()(),e.TgZ(42,"tbody"),e.YNc(43,A,29,14,"tr",14),e.qZA()()()()()(),e.TgZ(44,"p-dialog",15),e.NdJ("visibleChange",function(s){return t.visible=s}),e.TgZ(45,"form",16)(46,"div",17)(47,"label"),e._uU(48,"Product ID"),e.qZA(),e._UZ(49,"input",18),e.qZA(),e.TgZ(50,"div",17)(51,"label"),e._uU(52,"Brand"),e.qZA(),e._UZ(53,"input",19),e.qZA(),e.TgZ(54,"div",17)(55,"label"),e._uU(56,"Product Name (Tamil)"),e.qZA(),e._UZ(57,"input",20),e.qZA(),e.TgZ(58,"div",17)(59,"label"),e._uU(60,"Product Name (English)"),e.qZA(),e._UZ(61,"input",21),e.qZA(),e.TgZ(62,"div",17)(63,"label"),e._uU(64,"Category"),e.qZA(),e.TgZ(65,"select",22),e.NdJ("ngModelChange",function(s){return t.selectedCat=s})("change",function(){return t.changeCategory()}),e.TgZ(66,"option",23),e._uU(67),e.qZA(),e.YNc(68,v,4,3,"option",24),e.qZA()(),e.TgZ(69,"div",17)(70,"label"),e._uU(71,"Price (For KG/Ltr)"),e.qZA(),e._UZ(72,"input",25),e.qZA(),e.TgZ(73,"div",17)(74,"label"),e._uU(75,"Variant"),e.qZA(),e.TgZ(76,"select",26)(77,"option",23),e._uU(78),e.qZA(),e.YNc(79,T,2,4,"option",24),e.qZA()(),e.TgZ(80,"div",17)(81,"label"),e._uU(82,"Size"),e.qZA(),e._UZ(83,"input",27),e.qZA(),e.TgZ(84,"button",28),e.NdJ("click",function(){return t.submit()}),e._uU(85,"Submit"),e.qZA()()()),2&r&&(e.xp6(19),e.Q6J("cellPadding",5)("cellSpacing",5),e.xp6(24),e.Q6J("ngForOf",t.datas),e.xp6(1),e.Akn(e.DdM(33,f)),e.Q6J("header",t.edit?"Editing "+t.myForm.value.tamilName:"Add New Product")("visible",t.visible)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(1),e.Q6J("formGroup",t.myForm),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.id?null:t.myForm.controls.id.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.id?null:t.myForm.controls.id.errors)),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.brand?null:t.myForm.controls.brand.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.brand?null:t.myForm.controls.brand.errors)),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.tamilName?null:t.myForm.controls.tamilName.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.tamilName?null:t.myForm.controls.tamilName.errors)),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.name?null:t.myForm.controls.name.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.name?null:t.myForm.controls.name.errors)),e.xp6(4),e.ekj("is-invalid",null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.categTamil?null:t.myForm.controls.categTamil.errors),e.Q6J("ngModel",t.selectedCat)("ngModelOptions",e.DdM(34,C)),e.xp6(2),e.Oqu("Please Select Category"),e.xp6(1),e.Q6J("ngForOf",t.categories),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.price?null:t.myForm.controls.price.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.price?null:t.myForm.controls.price.errors)),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.variant?null:t.myForm.controls.variant.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.variant?null:t.myForm.controls.variant.errors)),e.xp6(2),e.Oqu("Please Select Variant"),e.xp6(1),e.Q6J("ngForOf",t.variants),e.xp6(4),e.ekj("is-invalid",(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.size?null:t.myForm.controls.size.touched)&&(null==t.myForm||null==t.myForm.controls||null==t.myForm.controls.size?null:t.myForm.controls.size.errors)))},dependencies:[m.sg,u.yS,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.On,n.sg,n.u,c.V,m.H9]}),o})()},{path:"category",component:F},{path:"backup",component:b},{path:"**",redirectTo:"/admin/products"}];let U=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.Bz.forChild(q),u.Bz]}),o})();var k=a(2834);let N=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[m.uU],imports:[m.ez,u.Bz,U,n.u5,n.UX,k.D,c.S]}),o})()}}]);