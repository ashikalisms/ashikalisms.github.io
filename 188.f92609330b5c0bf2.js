"use strict";(self.webpackChunkgroc_house=self.webpackChunkgroc_house||[]).push([[188],{5188:(V,_,l)=>{l.r(_),l.d(_,{AccountsModule:()=>K});var d=l(6895),c=l(9965),u=l(5861),h=l(5128),t=l(8256),g=l(782),f=l(2111),s=l(433),m=l(4642);function Z(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.visible=!0)}),t._uU(1,"Add"),t.qZA()}}function x(r,i){if(1&r&&(t.ynx(0),t.TgZ(1,"small")(2,"span",24),t._uU(3,"Ordered Checked On: "),t.TgZ(4,"b"),t._uU(5),t.ALo(6,"date"),t.qZA()()(),t._UZ(7,"br"),t.BQk()),2&r){const e=t.oxw(2);t.xp6(5),t.Oqu(t.xi3(6,1,e.sharedService.getDateByNanoSec(null==e.orderData?null:e.orderData.updatedDate),"medium"))}}function A(r,i){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.hij(" (",e.size,") ")}}function v(r,i){if(1&r&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function b(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"select",51),t.NdJ("change",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.getPrice(o))})("ngModelChange",function(o){t.CHM(e);const a=t.oxw().$implicit;return t.KtG(a.size=o)}),t.YNc(1,v,2,2,"option",5),t.qZA()}if(2&r){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("ngModel",e.size),t.xp6(1),t.Q6J("ngForOf",n.getVariant(e.variant))}}function T(r,i){if(1&r&&(t.ynx(0),t._uU(1),t.ALo(2,"currency"),t.BQk()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.paidAmount,"INR"))}}function D(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"input",53),t.NdJ("keyup",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.getTotalAmount())})("ngModelChange",function(o){t.CHM(e);const a=t.oxw().$implicit;return t.KtG(a.paidAmount=o)}),t.qZA()}if(2&r){const e=t.oxw().$implicit;t.Q6J("ngModel",e.paidAmount)}}function P(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",43)(5,"div",44)(6,"h6",45)(7,"small"),t._uU(8),t.qZA(),t.TgZ(9,"span",46),t._uU(10),t.qZA()(),t.TgZ(11,"span",47),t._uU(12),t._UZ(13,"br"),t.YNc(14,A,2,1,"ng-container",48),t.YNc(15,b,2,2,"ng-template",null,49,t.W1O),t.qZA()()()(),t.TgZ(17,"td",30),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.TgZ(20,"td",30),t.YNc(21,T,3,4,"ng-container",48),t.YNc(22,D,1,1,"ng-template",null,50,t.W1O),t.qZA()()),2&r){const e=i.$implicit,n=i.index,o=t.MAs(16),a=t.MAs(23),p=t.oxw(2);t.xp6(2),t.Oqu(n+1),t.xp6(6),t.Oqu(e.brand),t.xp6(2),t.hij(" ",e.tamilName," "),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngIf","Checked"===(null==p.orderData?null:p.orderData.status))("ngIfElse",o),t.xp6(4),t.Oqu(t.xi3(19,9,e.finalPrice,"INR")),t.xp6(3),t.Q6J("ngIf","Checked"===(null==p.orderData?null:p.orderData.status))("ngIfElse",a)}}function U(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"tr",28)(1,"td",54)(2,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.submitPrice())}),t._uU(3,"Submit Price"),t.qZA()()()}}function q(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",43)(5,"div",44)(6,"h6",45)(7,"small"),t._uU(8),t.qZA(),t.TgZ(9,"span",46),t._uU(10),t.qZA()(),t.TgZ(11,"span",47),t._uU(12),t._UZ(13,"br"),t._uU(14),t.qZA()()()(),t.TgZ(15,"td",30),t._uU(16),t.ALo(17,"currency"),t.qZA()()),2&r){const e=i.$implicit,n=i.index;t.xp6(2),t.Oqu(n+1),t.xp6(6),t.Oqu(e.brand),t.xp6(2),t.hij(" ",e.tamilName," "),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" (",e.size,") "),t.xp6(2),t.Oqu(t.xi3(17,6,e.finalPrice,"INR"))}}function O(r,i){if(1&r&&(t.TgZ(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),t._uU(4,"Missing Products"),t.qZA()(),t.TgZ(5,"tr")(6,"th"),t._uU(7,"Sl.No"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Product"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Estimated Price"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,q,18,9,"tr",27),t.qZA(),t.TgZ(14,"tfoot")(15,"tr",28)(16,"td",58),t._uU(17,"Grand Total"),t.qZA(),t.TgZ(18,"td",30),t._uU(19),t.ALo(20,"currency"),t.qZA()()()()),2&r){const e=t.oxw(2);t.xp6(13),t.Q6J("ngForOf",e.missingProducts),t.xp6(6),t.Oqu(t.xi3(20,2,e.missingProductsTotalAmount,"INR"))}}function C(r,i){1&r&&(t.ynx(0),t._uU(1,"Ordered Date:"),t.BQk())}function y(r,i){1&r&&(t.TgZ(0,"th"),t._uU(1,"Paid Amount"),t.qZA())}function w(r,i){if(1&r&&(t.TgZ(0,"td",63),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.paidAmount,"INR")," ")}}function N(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td",59),t._uU(2),t.qZA(),t.TgZ(3,"td",60)(4,"div",43)(5,"div",44)(6,"h6",61)(7,"small"),t._uU(8),t.qZA(),t.TgZ(9,"span",46),t._uU(10),t._UZ(11,"br"),t._uU(12),t.qZA()()()()(),t.YNc(13,w,3,4,"td",62),t.qZA()),2&r){const e=i.$implicit,n=i.index,o=t.oxw(2);t.xp6(2),t.hij(" ",n+1," "),t.xp6(6),t.Oqu(e.brand),t.xp6(2),t.hij(" ",e.tamilName," "),t.xp6(2),t.hij(" (",e.size,") "),t.xp6(1),t.Q6J("ngIf","Checked"===(null==o.orderData?null:o.orderData.status))}}function I(r,i){if(1&r&&(t.TgZ(0,"tfoot",37)(1,"tr")(2,"td",64),t._uU(3),t.ALo(4,"currency"),t.qZA()()()),2&r){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.xi3(4,1,null==e.orderData?null:e.orderData.totalPaidAmount,"INR")," ")}}function M(r,i){if(1&r&&(t.TgZ(0,"table",65)(1,"thead")(2,"tr")(3,"td",63)(4,"small")(5,"span"),t._uU(6),t.ALo(7,"date"),t.qZA()()()()()()),2&r){const e=t.oxw(2);t.xp6(6),t.hij("Checked Date: ",t.xi3(7,1,e.sharedService.getDateByNanoSec(null==e.orderData?null:e.orderData.updatedDate),"medium"),"")}}function J(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td",59),t._uU(2),t.qZA(),t.TgZ(3,"td",60)(4,"div",43)(5,"div",44)(6,"h6",61)(7,"small"),t._uU(8),t.qZA(),t.TgZ(9,"span",46),t._uU(10),t._UZ(11,"br"),t._uU(12),t.qZA()()()()(),t.TgZ(13,"td",63),t._uU(14),t.ALo(15,"currency"),t.qZA()()),2&r){const e=i.$implicit,n=i.index;t.xp6(2),t.hij(" ",n+1," "),t.xp6(6),t.Oqu(e.brand),t.xp6(2),t.hij(" ",e.tamilName," "),t.xp6(2),t.hij(" (",e.size,") "),t.xp6(2),t.hij(" ",t.xi3(15,5,null==e?null:e.finalPrice,"INR")," ")}}function Q(r,i){if(1&r&&(t.TgZ(0,"table",66)(1,"thead",37)(2,"tr")(3,"th",29),t._uU(4,"Missing Products"),t.qZA()(),t.TgZ(5,"tr")(6,"th",38),t._uU(7,"Sl.No"),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Price"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,J,16,8,"tr",27),t.qZA(),t.TgZ(14,"tfoot",37)(15,"tr")(16,"td",64),t._uU(17),t.ALo(18,"currency"),t.qZA()()()()),2&r){const e=t.oxw(2);t.xp6(9),t.Oqu("Products ("+(null==e.missingProducts?null:e.missingProducts.length)+")"),t.xp6(4),t.Q6J("ngForOf",e.missingProducts),t.xp6(4),t.hij(" ",t.xi3(18,3,e.missingProductsTotalAmount,"INR")," ")}}function S(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h2",10)(4,"a",11),t.O4$(),t.TgZ(5,"svg",12),t._UZ(6,"path",13),t.qZA()(),t._uU(7),t.kcU(),t.TgZ(8,"span",14),t._uU(9),t.qZA()(),t.TgZ(10,"div"),t.YNc(11,Z,2,0,"button",15),t.O4$(),t.TgZ(12,"svg",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.print4())}),t._UZ(13,"path",17)(14,"path",18),t.qZA()()(),t.kcU(),t.TgZ(15,"div",19)(16,"div",20)(17,"div",21)(18,"div",22)(19,"div",23)(20,"div")(21,"small")(22,"span",24),t._uU(23,"Ordered On: "),t.TgZ(24,"b"),t._uU(25),t.ALo(26,"date"),t.qZA()()(),t._UZ(27,"br"),t.YNc(28,x,8,4,"ng-container",25),t.TgZ(29,"span",24),t._uU(30,"("),t.TgZ(31,"b"),t._uU(32),t.qZA(),t._uU(33," Items :"),t.TgZ(34,"b"),t._uU(35),t.ALo(36,"currency"),t.ALo(37,"currency"),t.qZA(),t._uU(38,") "),t.qZA()()(),t.ynx(39),t.TgZ(40,"table",26)(41,"thead")(42,"tr")(43,"th"),t._uU(44,"Sl.No"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Product"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Estimated Price"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Paid Amount"),t.qZA()()(),t.TgZ(51,"tbody"),t.YNc(52,P,24,12,"tr",27),t.qZA(),t.TgZ(53,"tfoot")(54,"tr",28)(55,"td",29),t._uU(56,"Grand Total"),t.qZA(),t.TgZ(57,"td",30),t._uU(58),t.ALo(59,"currency"),t.qZA()(),t.YNc(60,U,4,0,"tr",31),t.qZA()(),t.YNc(61,O,21,5,"table",32),t.BQk(),t.TgZ(62,"div",33)(63,"div",20)(64,"div")(65,"table",34)(66,"thead")(67,"tr")(68,"td",35)(69,"small")(70,"span"),t.YNc(71,C,2,0,"ng-container",25),t._uU(72),t.ALo(73,"date"),t.qZA()()()()()(),t.TgZ(74,"table",36)(75,"thead",37)(76,"tr")(77,"th",38),t._uU(78,"Sl.No"),t.qZA(),t.TgZ(79,"th"),t._uU(80),t.qZA(),t.YNc(81,y,2,0,"th",25),t.qZA()(),t.TgZ(82,"tbody"),t.YNc(83,N,14,5,"tr",27),t.qZA(),t.YNc(84,I,5,4,"tfoot",39),t.qZA(),t.YNc(85,M,8,4,"table",40),t.YNc(86,Q,19,6,"table",41),t.qZA()()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(7),t.hij(" Order #",null==e.orderData?null:e.orderData.orderId," "),t.xp6(1),t.ekj("badge-success","Checked"===(null==e.orderData?null:e.orderData.status))("badge-primary","Pending"===(null==e.orderData?null:e.orderData.status)),t.xp6(1),t.Oqu(null==e.orderData?null:e.orderData.status),t.xp6(2),t.Q6J("ngIf","Pending"===(null==e.orderData?null:e.orderData.status)),t.xp6(14),t.Oqu(t.xi3(26,23,e.sharedService.getDateByNanoSec(null==e.orderData?null:e.orderData.date),"medium")),t.xp6(3),t.Q6J("ngIf",null==e.orderData||null==e.orderData.updatedDate?null:e.orderData.updatedDate.seconds),t.xp6(4),t.Oqu(null==e.orderData||null==e.orderData.orderProducts?null:e.orderData.orderProducts.length),t.xp6(3),t.Oqu(null!=e.orderData&&e.orderData.totalPaidAmount?t.xi3(36,26,null==e.orderData?null:e.orderData.totalPaidAmount,"INR"):t.xi3(37,29,null==e.orderData?null:e.orderData.totalAmount,"INR")),t.xp6(17),t.Q6J("ngForOf",null==e.orderData?null:e.orderData.orderProducts),t.xp6(6),t.Oqu(t.xi3(59,32,null==e.orderData?null:e.orderData.totalPaidAmount,"INR")),t.xp6(2),t.Q6J("ngIf","Pending"===(null==e.orderData?null:e.orderData.status)),t.xp6(1),t.Q6J("ngIf",null==e.missingProducts?null:e.missingProducts.length),t.xp6(10),t.Q6J("ngIf","Checked"===(null==e.orderData?null:e.orderData.status)),t.xp6(1),t.hij(" ",t.xi3(73,35,e.sharedService.getDateByNanoSec(null==e.orderData?null:e.orderData.date),"medium"),""),t.xp6(8),t.Oqu("Products ("+(null==e.orderData||null==e.orderData.orderProducts?null:e.orderData.orderProducts.length)+")"),t.xp6(1),t.Q6J("ngIf","Checked"===(null==e.orderData?null:e.orderData.status)),t.xp6(2),t.Q6J("ngForOf",null==e.orderData?null:e.orderData.orderProducts),t.xp6(1),t.Q6J("ngIf","Checked"===(null==e.orderData?null:e.orderData.status)),t.xp6(1),t.Q6J("ngIf",null==e.orderData||null==e.orderData.updatedDate?null:e.orderData.updatedDate.seconds),t.xp6(1),t.Q6J("ngIf",null==e.missingProducts?null:e.missingProducts.length)}}function k(r,i){if(1&r&&(t.TgZ(0,"option",52),t._uU(1),t._UZ(2,"br"),t.TgZ(3,"small"),t._uU(4),t.qZA()()),2&r){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.brand," ",e.tamilName,""),t.xp6(3),t.hij("(",e.name,")")}}function F(r,i){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.selectedProduct?null:e.selectedProduct.brand)}}function L(r,i){if(1&r&&(t.TgZ(0,"option",52),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Y(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",67)(1,"table",68)(2,"thead")(3,"tr")(4,"th",69),t._uU(5,"Product"),t.qZA(),t.TgZ(6,"th",69),t._uU(7,"Quantity"),t.qZA(),t.TgZ(8,"th",69),t._uU(9,"Price"),t.qZA()()(),t.TgZ(10,"tbody")(11,"tr")(12,"td")(13,"div",70)(14,"h5",71),t.YNc(15,F,3,1,"span",25),t.TgZ(16,"span"),t._uU(17),t._UZ(18,"br"),t.TgZ(19,"small",72),t._uU(20),t.qZA()()()()(),t.TgZ(21,"td")(22,"div",73)(23,"select",51),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.getPrice(o.selectedProduct))})("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.selectedProduct.size=o)}),t.YNc(24,L,2,2,"option",5),t.qZA()()(),t.TgZ(25,"td")(26,"div",74)(27,"span",75),t._uU(28),t.ALo(29,"currency"),t.qZA()()()()()(),t.TgZ(30,"div")(31,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addNewProductsToOrder())}),t._uU(32,"Submit"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(15),t.Q6J("ngIf",null==e.selectedProduct?null:e.selectedProduct.brand),t.xp6(2),t.Oqu(null==e.selectedProduct?null:e.selectedProduct.tamilName),t.xp6(3),t.Oqu(null==e.selectedProduct?null:e.selectedProduct.name),t.xp6(3),t.Q6J("ngModel",e.selectedProduct.size),t.xp6(1),t.Q6J("ngForOf",e.getVariant(e.selectedProduct.variant)),t.xp6(4),t.Oqu(t.xi3(29,6,e.selectedProduct.finalPrice,"INR"))}}const j=function(){return{width:"50vw"}};let z=(()=>{class r{constructor(e,n,o,a){this.sharedService=e,this.route=n,this.datePipe=o,this.confirmationService=a,this.orderData=[],this.printDatas={},this.checked=!1,this.orders=[],this.visible=!1,this.remainingProducts=[],this.selectedProduct={},this.selectedProductId="",this.variants=h.o,this.missingProducts=[],this.missingProductsTotalAmount=0}ngOnInit(){var e=this;return(0,u.Z)(function*(){e.getDatas()})()}getDatas(){var e=this;return(0,u.Z)(function*(){e.orders=yield e.sharedService.getOrders();const n=e.route.snapshot.paramMap.get("id");e.orderData=e.orders.find(o=>o.orderId==n),e.missingProducts=[],e.missingProductsTotalAmount=0,"Pending"===e.orderData.status?(e.orderData.orderProducts.forEach(o=>{const a=o.finalPrice.toFixed(2);o.paidAmount=parseFloat(a)}),e.getRemainingProducts()):(e.missingProducts=e.orderData.orderProducts.filter(o=>!o.paidAmount),e.missingProducts.length&&e.getMissingProductTotalAmount(),e.orderData.orderProducts=e.orderData.orderProducts.filter(o=>o.paidAmount)),e.createPrintDatas(e.orderData)})()}getRemainingProducts(){this.remainingProducts=[],console.log("this.orderData",this.orderData),this.sharedService.getProducts().then(e=>{console.log("res",e);const n=this.orderData.orderProducts.map(o=>o.id);this.remainingProducts=e.filter(o=>!n.includes(o.id))})}createPrintDatas(e){this.printDatas.cols=["S.No","Name","Size"],this.printDatas.rows=[],e.orderProducts.forEach((n,o)=>{this.printDatas.rows.push([o+1,n.name||"-",n.size||0])})}print4(){printJS("print-section","html")}print3(){let e="",n="";e=document.getElementById("print-section").innerHTML,n=window.open("","_blank","top=0,left=0,height=100%,width=auto"),e&&(n.document.write(`${e}`),n.document.close())}getDateTime(e){return this.datePipe.transform(e,"dd-MMM-yyyy hh:mm:ss")}getDateTimeWithoutSpace(){return this.datePipe.transform(new Date,"dd-mm-yy-hh-mm-ss")}getDate(){return new Date}selectNewProduct(){var e=this;return(0,u.Z)(function*(){e.selectedProduct=yield e.remainingProducts.find(n=>n.id==e.selectedProductId),console.log(e.selectedProduct,e.selectedProductId),e.selectedProduct&&e.getPrice(e.selectedProduct)})()}addNewProductsToOrder(){console.log("dataaa",this.selectedProduct),this.orders.forEach(e=>{e.orderId===this.orderData.orderId&&e.orderProducts.push(this.selectedProduct)}),console.log(this.orders),this.sharedService.addNewProductsToOrder(this.orders).then(e=>{this.selectedProduct={},this.selectedProductId="",this.visible=!1,this.getDatas()})}submitPrice(){this.orderData.status="Checked",this.orderData.updatedDate=new Date,this.orders.forEach(e=>{e.orderId===this.orderData.orderId&&(e=this.orderData)}),this.sharedService.updateOrder(this.orders).then(e=>{this.getDatas()})}getTotalAmount(){const n=this.orderData.orderProducts.map(o=>o.paidAmount?parseFloat(o.paidAmount):0).reduce((o,a)=>o+a,0);this.orderData.totalPaidAmount=n}getMissingProductTotalAmount(){const e=this.missingProducts.map(n=>n.finalPrice?parseFloat(n.finalPrice):0);this.missingProductsTotalAmount=e.reduce((n,o)=>n+o,0)}getVariant(e){if(e&&this.variants[e])return this.variants[e]}getPrice(e){if(e.finalPrice=0,e.size){const n=e.size.split(" ")[0],o=e.size.split(" ")[1];e.finalPrice="g"===o||"ml"===o?parseFloat(e.price)/1e3*n:parseFloat(e.price)*n}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.F),t.Y36(c.gz),t.Y36(d.uU),t.Y36(f.YP))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-details"]],features:[t._Bn([d.uU])],decls:9,vars:12,consts:[["class","container-fluid p-0",4,"ngIf"],["header","Add New Product to this order",3,"visible","modal","draggable","resizable","visibleChange"],[1,"form-group"],["placeholder","Select Product",1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","table-responsive cart",4,"ngIf"],[1,"container-fluid","p-0"],[1,"containers"],[1,"d-flex","justify-content-between","align-items-center","py-3"],[1,"h5","mb-0"],["routerLink","/accounts/orders",1,"text-muted"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#2874f0","viewBox","0 0 16 16",1,"bi","bi-arrow-left-circle"],["fill-rule","evenodd","d","M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"],[1,"badge","badge-pill"],["class","button btn btn-primary mr-10",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","#2874f0","viewBox","0 0 16 16",1,"bi","bi-printer-fill",3,"click"],["d","M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2H5zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z"],["d","M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2V7zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"],[1,"row"],[1,"col-12"],[1,"card","mb-4"],[1,"card-body"],[1,"mb-3","d-flex","justify-content-between"],[1,"me-3"],[4,"ngIf"],[1,"w-100","table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"fw-bold"],["colspan","3"],[1,"text-end"],["class","fw-bold",4,"ngIf"],["class","w-100 table table-bordered table-striped","style","margin-top: 30px;",4,"ngIf"],["id","print-section",1,"print-enabled",2,"font-size","150%"],["border","0","cellspacing","5","cellpadding","5",1,"table","table-bordered","table-striped",2,"width","100%","border-collapse","collapse"],[2,"text-align","left"],["border","1","cellspacing","5","cellpadding","5",1,"table","table-bordered","table-striped",2,"width","100%","border-collapse","collapse"],[2,"background-color","#2874f0","color","#fff"],[2,"width","60px"],["style","background-color: #2874f0; color: #fff",4,"ngIf"],["border","0","cellspacing","5","cellpadding","5","style","width:100%; border-collapse: collapse;margin-top: 10px","class","table table-bordered table-striped",4,"ngIf"],["border","1","cellspacing","5","cellpadding","5","style","margin-top: 30px; width:100%; border-collapse: collapse;","class","table table-bordered table-striped",4,"ngIf"],[1,"button","btn","btn-primary","mr-10",3,"click"],[1,"d-flex","mb-2"],[1,"flex-lg-grow-1","ms-3"],[1,"mb-0"],[1,"text-reset"],[1,""],[4,"ngIf","ngIfElse"],["selectVariant",""],["txtBox",""],["id","input-sort",1,"form-control","mt-1","mb-1",3,"ngModel","change","ngModelChange"],[3,"value"],["type","number",1,"form-control","input-price",3,"ngModel","keyup","ngModelChange"],["colspan","4",1,"text-end"],[1,"btn","button","btn-primary",3,"click"],[1,"w-100","table","table-bordered","table-striped",2,"margin-top","30px"],["colspan","3",2,"text-align","center"],["colspan","2"],[2,"padding","5px","text-align","center"],[2,"padding","5px"],[1,"small","mb-0",2,"margin","0"],["style","text-align: right;",4,"ngIf"],[2,"text-align","right"],["colspan","3",2,"text-align","right"],["border","0","cellspacing","5","cellpadding","5",1,"table","table-bordered","table-striped",2,"width","100%","border-collapse","collapse","margin-top","10px"],["border","1","cellspacing","5","cellpadding","5",1,"table","table-bordered","table-striped",2,"margin-top","30px","width","100%","border-collapse","collapse"],[1,"table-responsive","cart"],[1,"table","table-bordered","table-striped"],["scope","col",1,"card-title","text-uppercase","text-muted"],[1,"card-detail","ps-3"],[1,"card-title"],[1,"text-muted"],[1,"input-group","product-qty","w-50"],[1,"total-price"],[1,"money","text-dark"]],template:function(e,n){1&e&&(t.YNc(0,S,87,38,"div",0),t.TgZ(1,"p-dialog",1),t.NdJ("visibleChange",function(a){return n.visible=a}),t.TgZ(2,"div")(3,"div",2)(4,"select",3),t.NdJ("ngModelChange",function(a){return n.selectedProductId=a})("change",function(){return n.selectNewProduct()}),t.TgZ(5,"option",4),t._uU(6),t.qZA(),t.YNc(7,k,5,4,"option",5),t.qZA()(),t.YNc(8,Y,33,9,"div",6),t.qZA()()),2&e&&(t.Q6J("ngIf",null==n.orderData||null==n.orderData.orderProducts?null:n.orderData.orderProducts.length),t.xp6(1),t.Akn(t.DdM(11,j)),t.Q6J("visible",n.visible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(3),t.Q6J("ngModel",n.selectedProductId),t.xp6(2),t.Oqu("Please Select Product"),t.xp6(1),t.Q6J("ngForOf",n.remainingProducts),t.xp6(1),t.Q6J("ngIf",n.selectedProductId))},dependencies:[d.sg,d.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.On,m.V,d.H9,d.uU],styles:[".text-reset[_ngcontent-%COMP%]{font-family:cursive}.input-price[_ngcontent-%COMP%]{text-align:right;border:3px solid blue}"]}),r})();function B(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"td")(13,"a",11)(14,"span",12),t._uU(15),t.qZA()()()()),2&r){const e=i.$implicit,n=t.oxw();t.xp6(2),t.hij("#",e.orderId,""),t.xp6(2),t.Oqu(t.xi3(5,10,n.sharedService.getDateByNanoSec(null==e?null:e.date),"medium")),t.xp6(3),t.hij("",null==e||null==e.orderProducts?null:e.orderProducts.length," Items"),t.xp6(2),t.Oqu(null!=e&&e.totalPaidAmount?t.xi3(10,13,null==e?null:e.totalPaidAmount,"INR"):t.xi3(11,16,null==e?null:e.totalAmount,"INR")),t.xp6(4),t.Q6J("routerLink","/accounts/order-details/"+e.orderId),t.xp6(1),t.ekj("badge-success","Checked"===(null==e?null:e.status))("badge-primary","Pending"===(null==e?null:e.status)),t.xp6(1),t.hij(" ",null==e?null:e.status," ")}}let $=(()=>{class r{constructor(e,n){this.sharedService=e,this.router=n,this.orders=[]}ngOnInit(){var e=this;return(0,u.Z)(function*(){const n=yield e.sharedService.getOrders();n&&n.length&&(e.orders=n.reverse()),(!e.orders||0===e.orders.length)&&e.router.navigate(["/products/list"])})()}redirect(e){this.router.navigate([`/accounts/order-details/${e.orderId}`])}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.F),t.Y36(c.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-order-lists"]],decls:27,vars:3,consts:[[1,"card"],[1,"row"],[1,"col-12"],[1,"card","mb-4"],[1,"card-body"],[1,"mb-3","d-flex","justify-content-between"],[1,"me-3"],["border","2",1,"table","table-bordered","table-responsive","table-striped",2,"width","100%",3,"cellPadding","cellSpacing"],[4,"ngFor","ngForOf"],[1,"container-fluid","p-0"],[1,"container"],[3,"routerLink"],[1,"badge"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"span",6),t._uU(8,"Orders"),t.qZA()()(),t.ynx(9),t.TgZ(10,"table",7)(11,"thead")(12,"tr")(13,"th"),t._uU(14,"Order ID"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Date"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Items"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Amount"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Status"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,B,16,19,"tr",8),t.qZA()(),t.BQk(),t.qZA()()()()(),t.TgZ(25,"div",9),t._UZ(26,"div",10),t.qZA()),2&e&&(t.xp6(10),t.Q6J("cellPadding",5)("cellSpacing",5),t.xp6(14),t.Q6J("ngForOf",n.orders))},dependencies:[d.sg,c.yS,d.H9,d.uU]}),r})();var E=l(1041);const H=[{path:"",redirectTo:"/accounts/profile",pathMatch:"full"},{path:"profile",component:(()=>{class r{constructor(e){this.auth=e}ngOnInit(){this.currentUser=this.auth.getAuthLocal()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(E.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile"]],decls:22,vars:9,consts:[[1,"card"],[1,"card-body"],[1,"row","mb-3"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9","text-secondary"],["type","text","readonly","",1,"form-control",3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),t._uU(5,"Email"),t.qZA()(),t.TgZ(6,"div",5),t._UZ(7,"input",6),t.qZA()(),t.TgZ(8,"div",2)(9,"div",3)(10,"h6",4),t._uU(11,"Created On"),t.qZA()(),t.TgZ(12,"div",5),t._UZ(13,"input",6),t.ALo(14,"date"),t.qZA()(),t.TgZ(15,"div",2)(16,"div",3)(17,"h6",4),t._uU(18,"Last Login"),t.qZA()(),t.TgZ(19,"div",5),t._UZ(20,"input",6),t.ALo(21,"date"),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("value",null==n.currentUser?null:n.currentUser.email),t.xp6(6),t.Q6J("value",t.xi3(14,3,null==n.currentUser?null:n.currentUser.createdAt,"medium")),t.xp6(7),t.Q6J("value",t.xi3(21,6,null==n.currentUser?null:n.currentUser.lastLoginAt,"medium")))},dependencies:[d.uU]}),r})()},{path:"orders",component:$},{path:"order-details/:id",component:z},{path:"**",redirectTo:"/accounts/profile"}];let R=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[c.Bz.forChild(H),c.Bz]}),r})();var G=l(2834);let K=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[d.ez,R,s.u5,G.D,m.S]}),r})()}}]);